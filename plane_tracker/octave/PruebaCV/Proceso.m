
px=[0, 0.02845, 0.0569, 0.08535, 0.1138, 0.14225, 0.1707, 0.19915, 0, 0.02845, 0.0569, 0.08535, 0.1138, 0.14225, 0.1707, 0.19915, 0, 0.02845, 0.0569, 0.08535, 0.1138, 0.14225, 0.1707, 0.19915, 0, 0.02845, 0.0569, 0.08535, 0.1138, 0.14225, 0.1707, 0.19915, 0, 0.02845, 0.0569, 0.08535, 0.1138, 0.14225, 0.1707, 0.19915, 0, 0.02845, 0.0569, 0.08535, 0.1138, 0.14225, 0.1707, 0.19915 ];
py=[0, 0, 0, 0, 0, 0, 0, 0, 0.02845, 0.02845, 0.02845, 0.02845, 0.02845, 0.02845, 0.02845, 0.02845, 0.0569, 0.0569, 0.0569, 0.0569, 0.0569, 0.0569, 0.0569, 0.0569, 0.08535, 0.08535, 0.08535, 0.08535, 0.08535, 0.08535, 0.08535, 0.08535, 0.1138, 0.1138, 0.1138, 0.1138, 0.1138, 0.1138, 0.1138, 0.1138, 0.14225, 0.14225, 0.14225, 0.14225, 0.14225, 0.14225, 0.14225, 0.14225 ];
 P=[px;py;zeros(1,length(px));ones(size(px))];
 Prec=[px;py;ones(size(px))];
 Pi0=[834.16687, 328.14319;
 859.55542, 352.45416;
 882.35217, 376.96664;
 907.16559, 401.33176;
 928.83142, 424.07831;
 953.14459, 448.91849;
 974.46466, 472.53464;
 998.27655, 495.3974;
 810.8205, 350.80173;
 835.97449, 376.80621;
 859.54272, 400.01999;
 883.50348, 425.49319;
 907.24554, 448.05273;
 930.10846, 473.04877;
 954.29077, 495.58578;
 975.48108, 517.54565;
 787.9881, 373.21515;
 811.42023, 398.56381;
 836.73663, 424.66043;
 861.8714, 447.77402;
 884.36884, 472.98093;
 909.31348, 495.57626;
 931.03052, 518.50757;
 955.185, 541.85889;
 763.97095, 397.49164;
 789.00122, 422.56622;
 815.09332, 446.94894;
 838.18103, 472.46982;
 863.19983, 495.19739;
 885.51117, 517.76788;
 907.34424, 543.53516;
 932.42444, 566.88165;
 740.39984, 423.12308;
 765.51367, 446.59027;
 790.32025, 472.51553;
 814.53278, 495.35864;
 839.24329, 518.32977;
 861.67651, 543.50061;
 886.27527, 565.24658;
 911.74615, 590.39819;
 714.68549, 445.2634;
 741.42706, 470.61972;
 766.37, 495.17783;
 791.55267, 518.3526;
 814.73212, 543.52002;
 840.32233, 568.52057;
 865.52966, 591.19519;
 888.00519, 615.35095]';
Pi0(3,:)=ones(1,48);
K=[7.68e2,0,4.20e2;0,7.68e2,3.08e2;0,0,1];
iK=inv(K);
cPi0=iK*Pi0;
H0=[1.208408224311641, -1.176047826805016, 0.5388124791340638;
 1.141986630549475, 1.040521999712752, 0.02526322350758505;
 0.1904691900281365, -0.2217878300537925, 1];
 mP=fixHomoPts(H0*Prec);
 H0=H0/norm(H0(:,1));
 T=H0(:,3);
 R=gramSchmidt2(H0);
 R(:,3)=cross(R(:,1),R(:,2));

 Pp=R*P(1:3,:)+T;
 plot3(P(1,:),P(2,:),P(3,:),'bo',Pp(1,:),Pp(2,:),Pp(3,:),'ro' )
 plotAxis(eye(3),zeros(3,1),0.1);
 plotAxis(R,T,0.1);

